$(document).on('click','.wc147tab',function(){var cls='wc147selected';var li= $(this);var ul=li.parent();var prev=ul.find('.'+cls).rclass(cls);var container=ul.closest('.wc147');var sel='.wc147body[data-index="{0}"]';container.find(sel.format(prev.attrd('index'))).rclass(cls);container.find(sel.format(li.attrd('index'))).aclass(cls);li.aclass(cls)});COMPONENT('wc117','delay:4000;width:1140;height:500',function(self,config){var container,prevbutton,previmage,buttons;var index=0;var count=0;var skip=true;self.make=function(){container=self.find('.wc117-images');count=self.find('.wc117-image').length;var builder=[];for(var i=0;i<count;i++)builder.push('<button><i class="fa fa-circle"></i></button>');self.append('<div class="wc117-controls">{0}</div>'.format(builder.join('')));buttons= $(self.find('.wc117-controls').get(0));self.event('click','button',function(){index= $(this).index();self.show(index);skip+=2});self.autosize();$(window).on('resize',self.autosize);interval=setInterval(function(){if(skip){skip--;return}index++;if(index>=count)index=0;self.show(index)},config.delay*1000)};self.autosize=function(){self.width(function(width){self.css('height',(config.height/config.width)*width);if(!index){index=0;self.show(index)}})};self.show=function(index){var offset=self.width();container.animate({scrollLeft:offset*index},500);previmage&&previmage.rclass('selected');setTimeout(function(){previmage=container.find('.wc117-image').eq(index).aclass('selected')},300);prevbutton&&prevbutton.rclass('selected');prevbutton=buttons.find('button').eq(index).aclass('selected')}});COMPONENT('wi117','',function(self,config){self.blind();self.make=function(){self.event('keydown','input',function(e){if(e.keyCode===13){e.preventDefault();e.stopPropagation();self.find('button').trigger('click')}});self.event('click','button',function(){var btn= $(this);var data={};var input=self.find('input');data.email=input.val();!BLOCKED(self.id,2000)&&data.email.isEmail()&&AJAX('POST /api/subscribers/',data,function(response){input.val('');self.find('.wi117form').aclass('hidden');self.find('.wi117success').rclass('hidden')})})}});